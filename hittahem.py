from bs4 import BeautifulSoup
import requests
import urllib3
import dryscrape

def main():
    # Full search url
    boplats = "https://nya.boplats.se/sok#itemtype=1hand&rent"
    
    # READ DATA GENERATED BY JAVA SCRIPT WITH DRYSCRAPE
    # Installation a bit hairy:
    # https://github.com/niklasb/dryscrape
    session = dryscrape.Session()
    session.visit(boplats)
    response = session.body()
    soup = BeautifulSoup(response, "html.parser")
    script_data = soup.find(id="objectlist")
    print(script_data)

if __name__ == '__main__':
    main()
